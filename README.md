

```markdown
# AI Query App with Streamlit, LangChain, FAISS

This project is a simple question-answering application using Streamlit for the UI, FAISS for fast vector search, and HuggingFace embeddings via LangChain.

## Features

- Fast semantic search over your custom document embeddings
- Uses FAISS for vector indexing
- Uses `sentence-transformers/all-MiniLM-L6-v2` for text embeddings
- Simple UI with Streamlit

## Folder Structure

```

VHA/
├── admin_app/
│   ├── Dockerfile         
│   ├── main.py
│   ├── ...
│
├── user_app/
│   ├── Dockerfile         
│   ├── main.py
│   ├── ...
│
├── vectorstore/
│
├── docker-compose.yml     
└── requirements.txt


````

## Installation

```bash
# Create and activate virtual environment
python -m venv venv
source venv/bin/activate       # macOS/Linux
venv\Scripts\activate          # Windows

# Install required packages
pip install -r requirements.txt
````

### Sample `requirements.txt`

```
streamlit
faiss-cpu
sentence-transformers
langchain
langchain-community
torch
```

## Running the App

```bash
streamlit run User_app/main.py
```

After starting, you will see a local URL (e.g. [http://localhost:8501](http://localhost:8501)) where you can interact with the app.

## Loading FAISS Safely

If you are loading a saved FAISS index, LangChain requires you to explicitly allow deserialization for security:

In `query_utils.py`, use:

```python
db = FAISS.load_local(VECTOR_DIR, embeddings, allow_dangerous_deserialization=True)
```

Only enable this if the file is from a trusted source (e.g. generated by you).

## Fixing LangChain Deprecation Warnings

LangChain 0.2+ has moved community modules to a new package. Update your imports in `query_utils.py`:

```python
# Old (deprecated)
from langchain.vectorstores import FAISS
from langchain.embeddings import HuggingFaceEmbeddings

# Updated
from langchain_community.vectorstores import FAISS
from langchain_community.embeddings import HuggingFaceEmbeddings
```

## Contributing

Pull requests and suggestions are welcome.

```
* Xin chào, * Tôi muốn yêu cầu 5 ngày nghỉ phép. Theo quy định của công ty, tôi đã đạt được 12 tháng làm việc và được hưởng quyền 5 ngày nghỉ phép thêm. * Để xin nghỉ phép, tôi sẽ làm theo hướng dẫn sau: 1. Gửi mail đến quản lý nhân sự. 2. Nông dung mail gồm: * Tên tôi. * Số ngày muốn nghỉ phép (5 ngày). * Lý do nghỉ phép (nếu có). 3. Nhận xét và duyệt mail bởi quản lý nhân sự. 4. Tôi sẽ nghỉ phép theo thời gian được phép bởi công ty. * Xin cảm ơn bạn đã đọc email của tôi. Nếu có bất kỳ câu hỏi hoặc thắc mắc, xin vui lòng liên hệ với tôi. * Sincerely, [Tên tôi]
---

Nếu bạn muốn mình thêm phần hướng dẫn import dữ liệu vào FAISS hay build Docker, cứ yêu cầu nhé.
```
